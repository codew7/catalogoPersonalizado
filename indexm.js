const _0x3062bf=_0x11d9;function getUrlParameter($){let x=_0x11d9,e=new URLSearchParams(window[x(252)][x(279)]);return e.get($)}function getPorcentajeFromUrl(){let $=_0x11d9,x=window[$(252)][$(279)],e=x.match(/&(\d+)$/);return e?parseFloat(e[1]):0}!function($,x){let e=_0x11d9,t=$();for(;;)try{let _=parseInt(e(224))/1*(parseInt(e(338))/2)+parseInt(e(286))/3*(-parseInt(e(238))/4)+-parseInt(e(257))/5+parseInt(e(265))/6+-parseInt(e(312))/7*(parseInt(e(247))/8)+parseInt(e(282))/9*(-parseInt(e(296))/10)+parseInt(e(272))/11*(parseInt(e(225))/12);if(954622===_)break;t.push(t.shift())}catch(a){t.push(t.shift())}}(_0x12ad,954622);const customName=getUrlParameter("n")||_0x3062bf(334),porcentajeIncremento=getPorcentajeFromUrl();document[_0x3062bf(239)]("DOMContentLoaded",function(){let $=_0x3062bf,x=document[$(304)]($(229)),e=document[$(304)]($(231));x&&(x[$(309)]=customName),e&&(e[$(309)]=customName),customName!==$(334)&&(document.title=$(258)+customName);let t=document[$(328)]("footer-catalog-name");t&&(t[$(309)]=customName)});const ITEMS_PER_PAGE=30;let productos=[],currentPage=1,currentLightboxImages=[],currentImageIndex=0,primeraCarga=!0;const loadingOverlay=document[_0x3062bf(328)](_0x3062bf(249));function mostrarPagina($,x=productos){let e=_0x3062bf;currentPage=$,x[e(266)];let t=($-1)*30,_=x[e(241)](t,t+30);cargarGrid(_),actualizarPaginacion($,x),document[e(269)]!==document[e(328)]("buscar")&&setTimeout(()=>{let $=e;if(primeraCarga)window[$(232)]({top:0,behavior:$(240)});else{let x=document[$(328)]("categorias");if(x){let t=x[$(318)](),_=window[$(285)]||document[$(292)][$(314)];window[$(232)]({top:t[$(331)]+_-20,behavior:$(317)})}}},0)}function cargarGrid($){let x=_0x3062bf,e=document.getElementById(x(222));e[x(327)]="",$.forEach($=>{let t=x,_=document[t(321)](t(307));_.classList[t(288)](t(220));let a=document[t(321)](t(235));if(a[t(319)]=t(271),a[t(227)]=$[2],_[t(335)](a),isValidImageUrl($[1])){let n=[];-1!==$[1][t(228)](",")?n=$[1][t(219)](",")[t(337)]($=>$[t(260)]()):n[t(244)]($[1]);let r=document[t(321)](t(326));r[t(293)]=n[0],r[t(230)]=t(342),r[t(305)]=function(){let $=t;this[$(293)]=$(218)},r.addEventListener("click",()=>{abrirLightbox(n)}),_[t(335)](r)}let o=document[t(321)]("h3");o[t(309)]=$[3],_.appendChild(o);let i=document[t(321)](t(307));i[t(237)][t(288)](t(268)),i[t(309)]=t(324)+$[2],_.appendChild(i);let l=document[t(321)](t(307));l[t(237)][t(288)](t(248)),l.style[t(297)]=t(283),l[t(223)][t(341)]=t(261);let c=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(c=parseInt($[10])),isNaN(c)?l.innerHTML=t(339):c<=0?l[t(327)]=t(339):c<=10?l[t(327)]=t(255):l.innerHTML=t(340),_[t(335)](l),porcentajeIncremento>0){let f=document[t(321)]("p"),s=parseFloat(($[6]||"0")[t(313)]()[t(343)](/,/g,""))||0,d=s;d=s*(1+porcentajeIncremento/100),d=Math[t(233)](d),f.innerHTML=t(273)+d.toLocaleString(t(242)),f[t(223)][t(281)]=t(345),_.appendChild(f)}_[t(335)](l),e[t(335)](_)})}function refreshStockInfo(){let $=_0x3062bf,x=document[$(344)]($(299));x[$(289)](x=>{let e=$,t=x[e(304)](e(280));if(t){let _=x[e(304)](e(270));if(_){let a=_.value,n=productos.find($=>$[2]===a),r=0;n&&void 0!==n[10]&&null!==n[10]&&""!==n[10]&&(r=parseInt(n[10])),isNaN(r)?t[e(327)]=e(339):r<=0?t.innerHTML=e(339):r<=10?t.innerHTML=e(255):t.innerHTML='<span style="color: #4CAF50;">✓ Disponible</span>'}}})}function _0x12ad(){let $=["100px","base","2280PKdAUr","stock-info","loadingOverlay","pagination","Anterior","location","close","offsetWidth",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"toLowerCase","9358970pzZBjk","Cat\xe1logo - ","min","trim","bold","click","filter","change","6096354rBSQoN","length","no disponible","info","activeElement",'input[type="hidden"]',"hidden","3382467IxeSzS","<strong>Precio $</strong> ","Error al cargar los datos:","target","lightbox","next-btn","error","search",".stock-info","marginTop","45SafkGG","5px 0","then","pageYOffset","5213571hwgfGG","includes","add","forEach","catch","message","documentElement","src","#error","?key=","997210lVTCZr","margin","Error al acceder a la API: ",".card","none","prev-btn","categorias","https://sheets.googleapis.com/v4/spreadsheets/","querySelector","onerror","width","div","button","textContent","undefined","statusText","20447UsDcfA","toString","scrollTop","block","match","smooth","getBoundingClientRect","type","lightbox-img","createElement","localeCompare","currentTarget","C\xf3digo: ","option","img","innerHTML","getElementById","pagination-button","/values/","top","todos","display","Cat\xe1logo","appendChild","stopPropagation","map","574346TAwvSR",'<span style="color: #ff9800;">✗ Sin stock</span>','<span style="color: #4CAF50;">✓ Disponible</span>',"fontWeight","lazy","replace","querySelectorAll","2px","flex","no-disponible.png","split","card","contains","catalogo","style","2fKFNwf","168bxPULQ","innerWidth","value","indexOf",".header-content-mobile .mayorista-text","loading",".header-content-desktop .mayorista-text","scrollTo","round","floor","input","sort","classList","4EPMgTj","addEventListener","auto","slice","es-AR","active","push"];return(_0x12ad=function(){return $})()}function getMaxVisiblePaginationButtons(){let $=_0x3062bf,x=document.getElementById("pagination"),e=window[$(226)];x&&(e=x[$(254)]||e);let t=Math.max(3,Math[$(234)]((e-220)/48));return Math[$(259)](t,15)}function actualizarPaginacion($,x){let e=_0x3062bf,t=document[e(328)](e(250));t[e(327)]="";let _=Math.ceil(x[e(266)]/30);if($>1){let a=document[e(321)](e(308));a[e(309)]=e(251),a.style[e(306)]=e(245),a[e(239)](e(262),()=>mostrarPagina($-1,x)),t[e(335)](a)}let n=getMaxVisiblePaginationButtons(),r=Math.max(1,$-Math[e(234)](n/2)),o=Math[e(259)](_,r+n-1);o-r<n-1&&(r=Math.max(1,o-n+1));for(let i=r;i<=o;i++){let l=document[e(321)](e(308));l[e(309)]=i,l.classList[e(288)](e(329)),i===$&&l[e(237)].add(e(243)),l[e(239)](e(262),()=>mostrarPagina(i,x)),t.appendChild(l)}if($<_){let c=document.createElement(e(308));c[e(309)]="Siguiente",c.style[e(306)]=e(245),c[e(239)]("click",()=>mostrarPagina($+1,x)),t[e(335)](c)}}function _0x11d9($,x){let e=_0x12ad();return(_0x11d9=function($,x){return e[$-=218]})($,x)}function isValidImageUrl($){return $&&$[_0x3062bf(316)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox($){let x=_0x3062bf;currentLightboxImages=$,currentImageIndex=0,document[x(328)](x(320))[x(293)]=currentLightboxImages[currentImageIndex],document[x(328)](x(276))[x(223)][x(333)]=x(346),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x3062bf,x=document[$(328)]("prev-btn"),e=document[$(328)]($(277));currentLightboxImages.length>1?(x[$(223)][$(333)]=$(315),e[$(223)][$(333)]="block"):(x[$(223)][$(333)]="none",e[$(223)][$(333)]=$(300))}function closeLightbox($){let x=_0x3062bf;($.target===$[x(323)]||$[x(275)][x(237)][x(221)](x(253)))&&(document[x(328)](x(276))[x(223)].display=x(300))}fetch(_0x3062bf(303)+G_S_CONFIG.SPREADSHEET_ID+_0x3062bf(330)+G_S_CONFIG.RANGO+_0x3062bf(295)+G_S_CONFIG.API_KEY)[_0x3062bf(284)]($=>{let x=_0x3062bf;if(!$.ok)throw Error(x(298)+$[x(311)]);return $.json()})[_0x3062bf(284)]($=>{let x=_0x3062bf;loadingOverlay&&(loadingOverlay[x(223)][x(333)]=x(300));let e=$.values;if(!e||0===e[x(266)])throw Error("No se encontraron datos en la hoja.");productos=e[x(263)]($=>{let e=x;if($[4].toLowerCase()===e(267))return!1;let t=0;return void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(t=parseInt($[10])),!isNaN(t)&&t>0})[x(236)](($,x)=>{function e($){let x=_0x11d9;if(!$||""===$||null==$)return new Date(1900,0,1);if($[x(287)]("/")){let e=$[x(219)]("/");if(3===e[x(266)]){let t=parseInt(e[0]),_=parseInt(e[1])-1,a=parseInt(e[2]);return new Date(a,_,t)}}return new Date(1900,0,1)}let t=e($[12]),_=e(x[12]);return _-t}),window[x(232)](0,0),mostrarPagina(1),setTimeout(()=>{refreshStockInfo(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos.map($=>$[0])),_=document[x(328)](x(302)),a=Array.from(t)[x(263)]($=>$&&""!==$[x(260)]()).sort(($,e)=>$[x(322)](e,"es",{sensitivity:x(246)}));function n(){let $=x,e=document[$(328)]($(302)).value,t=document[$(328)]("buscar")[$(227)].toLowerCase(),_=productos;e!==$(332)&&(_=_[$(263)]($=>$[0]===e)),""!==t[$(260)]()&&(_=_[$(263)](x=>x[3][$(256)]().includes(t)||x[2].toLowerCase().includes(t))),mostrarPagina(1,_)}a.forEach($=>{let e=x,t=document.createElement(e(325));t[e(227)]=$,t[e(309)]=$,_[e(335)](t)}),_[x(239)](x(264),()=>{n()}),document.getElementById("buscar")[x(239)](x(235),$=>{n()}),document[x(328)](x(332))[x(239)]("click",()=>{let $=x;document.getElementById($(302)).value=$(332),document[$(328)]("buscar").value="",mostrarPagina(1)})})[_0x3062bf(290)]($=>{let x=_0x3062bf;loadingOverlay&&(loadingOverlay[x(223)][x(333)]=x(300)),console[x(278)](x(274),$),document.querySelector(x(294)).textContent=$[x(291)]}),window[_0x3062bf(239)]("resize",()=>{let $=_0x3062bf;typeof currentPage!==$(310)&&typeof productos!==$(310)&&actualizarPaginacion(currentPage,productos)}),document[_0x3062bf(328)](_0x3062bf(277)).addEventListener(_0x3062bf(262),$=>{let x=_0x3062bf;$[x(336)](),currentLightboxImages[x(266)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages.length,document[x(328)]("lightbox-img")[x(293)]=currentLightboxImages[currentImageIndex])}),document.getElementById(_0x3062bf(301))[_0x3062bf(239)](_0x3062bf(262),$=>{let x=_0x3062bf;$[x(336)](),currentLightboxImages.length>0&&(currentImageIndex=(currentLightboxImages[x(266)]+currentImageIndex-1)%currentLightboxImages[x(266)],document[x(328)](x(320)).src=currentLightboxImages[currentImageIndex])}),document[_0x3062bf(328)](_0x3062bf(320))[_0x3062bf(239)](_0x3062bf(278),function(){currentLightboxImages[_0x3062bf(266)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this.src=currentLightboxImages[0])});